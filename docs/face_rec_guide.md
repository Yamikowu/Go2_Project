# 遠端人臉辨識系統使用指南 (InsightFace版)

這份手冊將教你如何使用 `camera/demo/face_rec_remote.py` 進行遠端人臉辨識與管理。

---

## 🚀 如何啟動

在 Mac 的 VSCode 終端機輸入：

```bash
/Users/yamiko/Documents/VsCode/Go2_Project/.venv/bin/python camera/demo/face_rec_remote.py
```

_(請確保 Windows 端的 `camera_server.py` 已經啟動且相機已連線)_

---

## 🖥️ 畫面解說

當程式運行時，你會在畫面上看到以下資訊：

### 1. 人臉偵測框 (Bounding Box)

- 🔴 **紅色框**：偵測到人臉，但**資料庫裡沒有這個人**（顯示為 `Unknown`）。
- 🟢 **綠色框**：偵測到人臉，且**成功與資料庫比對成功**（顯示對應的名字）。

### 2. 文字標籤

- **名字**：顯示該人臉在 `faces_db` 中對應的資料夾名稱。
- **分數 (0.00 ~ 1.00)**：人臉相似度分數。
  - 高於 **0.4 ~ 0.5** 通常代表是同一個人。
  - 分數越高，代表程式越確定是誰。

### 3. 特徵點 (Landmarks)

- 人臉上的**藍色小點**：這是 AI 找出的關鍵點（眼睛、鼻子、嘴角），用來確保人臉特徵計算的精準度。

### 4. 效能顯示 (FPS)

- 左上角的 **FPS** 代表每秒跑幾幀。在 Mac M4 上通常會非常流暢。

---

## ⌨️ 按鍵與操作

|      按鍵      | 功能                                                     |
| :------------: | :------------------------------------------------------- |
| **`s`** (Save) | **儲存人臉**。會抓取當前畫面中「最大的人臉」存入資料庫。 |
| **`q`** (Quit) | **離開程式**。安全關閉連線。                             |

---

## 📂 人臉資料庫管理 (faces_db)

人臉資料夾位於：`camera/faces_db/`

### 如何將「Unknown」變成「人名」？

1.  執行程式，對著相機按 **`s`** 鍵，程式會建立一個 `User_177045xxxx` 的資料夾。
2.  關閉程式。
3.  在 VSCode 檔案總管進入 `camera/faces_db/`。
4.  將 `User_177045xxxx` **重新命名**為你想要的名字（例如：`Yamiko`）。
5.  再次啟動程式，系統就會從此認得你叫 `Yamiko`。

### 💡 提高準確度的小技巧

- **多角度存檔**：你可以對同一個人分別儲存「正臉」、「左臉」、「右臉」，只要把它們**都放在同一個名字的資料夾**裡，辨識就會變得超級強強！
- **環境光線**：註冊人臉時，確保光線均勻，不要背光。
- **刪除錯誤資料**：如果資料庫裡有拍壞的照片，直接手動刪除該資料夾或圖片即可。

---

## 🛠️ 常見問題

- **連線中斷**：請確認 Windows 的 IP 是否變動，或防火牆是否擋住。
- **辨識錯誤**：如果一直把 A 認成 B，可能是照片太模糊，建議刪除後重新按 `s` 註冊一張新的。
